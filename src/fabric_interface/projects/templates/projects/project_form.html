{% extends "fabric_interface/layouts/sidebar_double.html" %}

{% load i18n debug %}

{% block sidebar_left %}
    <!-- panel/projects -->
    <div class="well well-sm">
        <ul class="nav nav-list">
            <li class="nav-header">{% trans "Projects" %}</li>
            {% for project in project_list %}
                <li class="{% if project.slug == object.slug %}active{% endif %}">
                    <a href="{% url 'project_detail' slug=project.slug %}">{{ project.title }}</a>
                </li>
            {% endfor %}
            <li class="action">
                <a href="{% url 'project_create' %}">
                    <i class="glyphicon glyphicon-plus"></i> {% trans "Add project" %}
                </a>
            </li>
        </ul>
    </div>
    <!-- panel/hosts -->
    <div class="well well-sm">
        <ul class="nav nav-list">
            <li class="nav-header">{% trans "Hosts" %}</li>
            <li><a href="#">Host X</a></li>
            {% for host in host_list %}
                <li><a href="{% url 'project_detail' slug=host.slug %}">{{ host.title }}</a></li>
            {% endfor %}
            <li class="action"><a href=""><i class="glyphicon glyphicon-plus"></i> {% trans "Add host" %}</a></li>
        </ul>
    </div>
    <!-- panel/users -->
    <div class="well well-sm">
        <ul class="nav nav-list">
            <li class="nav-header">{% trans "Users" %}</li>
            <li><a href="#">John Doe</a></li>
            {% for user in user_list %}
                <li><a href="{% url 'project_detail' pk=user.pk %}">{{ user.name }}</a></li>
            {% endfor %}
            <li class="action"><a href=""><i class="glyphicon glyphicon-plus"></i> {% trans "Add user" %}</a></li>
        </ul>
    </div>
{% endblock %}

{% block content %}
    <h4>{% if object %}{% trans "Edit project" %}{% else %}{% trans "Add project" %}{% endif %}</h4>
    <hr />
    <form method="post" role="form">
        {% csrf_token %}
        {% for form in form %}
            {% for field in form %}
                <div class="form-group">
                    <label for="{{ field.auto_id }}">{{ field.label }}</label>
                    <input type="text" class="form-control" id="{{ field.auto_id }}" name="{{ field.name }}" {% if field.value %}value="{{ field.value }}"{% else %}placeholder="Enter {{ field.name }}"{% endif %}>
                </div>
            {% endfor %}
        {% endfor %}
        <button type="submit" class="btn btn-default">{% if object %}{% trans "Update" %}{% else %}{% trans "Create" %}{% endif %}</button>
    </form>
{% endblock %}